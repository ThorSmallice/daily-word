{"version":3,"sources":["webpack:///./src/views/index/Search.vue?07fb","webpack:///./src/views/index/Search.vue?ee7d","webpack:///./src/components/MusicListFth.vue?dc5e","webpack:///src/components/MusicListFth.vue","webpack:///./src/components/MusicListFth.vue?8f60","webpack:///./src/components/MusicListFth.vue","webpack:///src/views/index/Search.vue","webpack:///./src/views/index/Search.vue?6ea6","webpack:///./src/views/index/Search.vue","webpack:///./node_modules/core-js/modules/web.timers.js","webpack:///./node_modules/core-js/modules/es.date.now.js","webpack:///./src/components/MusicListFth.vue?58d7"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","directives","name","rawName","value","expression","modifiers","ref","domProps","on","$event","target","composing","searchInpContent","trim","SearchAdvice","type","indexOf","_k","keyCode","key","Search","apply","arguments","$forceUpdate","clearInp","_v","_l","item","index","toSearch","first","_s","historyId","text","delHistoryItem","keyword","searchResultData","staticRenderFns","id","_t","chid","album","component","$","global","userAgent","slice","MSIE","test","wrap","scheduler","handler","timeout","boundArgs","length","args","call","undefined","Function","bind","forced","setTimeout","setInterval","stat","now","Date","getTime"],"mappings":"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","file":"js/chunk-37679f0e.1064eff7.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=10873d10&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"search\"}},[_c('header',[_c('div',{staticClass:\"search-inp-wrap\"},[_c('span',{staticClass:\"icon-box iconfonts-search\"},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-fangdajing\"}})])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.searchInpContent),expression:\"searchInpContent\",modifiers:{\"trim\":true}}],ref:\"searchInp\",staticClass:\"search-inp\",attrs:{\"type\":\"text\",\"placeholder\":\"搜索歌曲、歌手、专辑\"},domProps:{\"value\":(_vm.searchInpContent)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.searchInpContent=$event.target.value.trim()},_vm.SearchAdvice],\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.Search.apply(null, arguments)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showcloseBtn),expression:\"showcloseBtn\"}],staticClass:\"icon-box iconfonts-close\",on:{\"click\":_vm.clearInp}},[_c('svg',{staticClass:\"icon \",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-htmal5icon19\"}})])])])]),_c('main',[_c('div',{staticClass:\"hot-search\"},[_c('h4',[_vm._v(\"热门搜索\")]),_c('ul',{staticClass:\"hot-serch-list\"},[_vm._l((_vm.hotsearchArr),function(item,index){return [_c('li',{key:index,staticClass:\"hot-serch-item\",on:{\"click\":function($event){return _vm.toSearch(item.first)}}},[_vm._v(\" \"+_vm._s(item.first)+\" \")])]})],2)])]),_c('section',[_c('ul',{staticClass:\"search-history-list\"},[_vm._l((_vm.historySearchArr),function(item){return [_c('li',{key:item.historyId,staticClass:\"search-history-item\"},[_c('span',{staticClass:\"icon-wrap\"},[_c('svg',{staticClass:\"icon iconfonts-history\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-lishi\"}})])]),_c('p',{staticClass:\"search-history-text\",on:{\"click\":function($event){return _vm.toSearch(item.text)}}},[_vm._v(_vm._s(item.text))]),_c('span',{staticClass:\"icon-wrap\",on:{\"click\":function($event){return _vm.delHistoryItem(item.historyId)}}},[_c('svg',{staticClass:\"icon iconfonts-history-delete\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-guanbi\"}})])])])]})],2)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSearchAdvice),expression:\"showSearchAdvice\"}],staticClass:\"search-advice\"},[_c('ul',{staticClass:\"search-advice-list\"},[_c('li',{staticClass:\"search-advice-item\"},[_vm._v(\"搜索 “ \"+_vm._s(_vm.searchInpContent)+\" ”\")]),_vm._l((_vm.searchAdviceData),function(item,index){return [_c('li',{key:index,staticClass:\"search-advice-item\",on:{\"click\":function($event){return _vm.toSearch(item.keyword)}}},[_c('svg',{staticClass:\"icon iconfonts-search\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-fangdajing\"}})]),_vm._v(\" \"+_vm._s(item.keyword)+\" \")])]})],2)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSearchResult),expression:\"showSearchResult\"}],staticClass:\"search-result\"},[_c('music-listfth',{attrs:{\"datas\":_vm.searchResultData}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"musicList\"}},[_c('ul',{staticClass:\"musics-ul\"},[_vm._l((_vm.datas),function(item){return [_c('router-link',{key:item.id,attrs:{\"tag\":\"li\",\"to\":(\"/song/\" + (item.id))}},[_vm._t(\"index\"),_c('div',{staticClass:\"music-text-wrap\"},[_c('div',{staticClass:\"music-title\"},[_vm._v(\" \"+_vm._s(item.name)+\" \")]),_c('div',{staticClass:\"music-author\"},[_c('i',{staticClass:\"iconfonts-sq\"}),_vm._l((item.artists),function(chid){return [_c('p',{key:chid.id},[_vm._v(_vm._s(chid.name))])]}),_c('p',[_vm._v(_vm._s(item.album.name))])],2)]),_c('div',{staticClass:\"music-playbtn\"},[_c('svg',{staticClass:\"icon icon-bofang\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-bofang\"}})])])],2)]})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"musicList\">\r\n        <ul class=\"musics-ul\">\r\n            <template v-for=\"item in datas\">\r\n                <router-link tag=\"li\" :key=\"item.id\" :to=\"`/song/${item.id}`\">\r\n                    <slot name=\"index\"></slot>\r\n\r\n                    <div class=\"music-text-wrap\">\r\n                        <div class=\"music-title\">\r\n                            {{item.name}}\r\n                            <!-- <span>{{ item.song.alias[0] | getMusicTitle}}</span> -->\r\n                        </div> \r\n\r\n                        <div class=\"music-author\">\r\n                            <i class=\"iconfonts-sq\"></i>\r\n                            <template v-for=\"chid in item.artists\">\r\n                                <p :key=\"chid.id\">{{ chid.name }}</p>\r\n                            </template>\r\n                            <p>{{item.album.name}}</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"music-playbtn\">\r\n                        <svg class=\"icon icon-bofang\" aria-hidden=\"true\">\r\n                            <use xlink:href=\"#icon-bofang\"></use>\r\n                        </svg>\r\n                    </div>\r\n                </router-link>\r\n            </template>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props:{\r\n        datas: Array\r\n    },\r\n    data : function () {\r\n        return {\r\n            \r\n        }\r\n    },\r\n    methods: {\r\n\r\n    },\r\n    computed: {\r\n        \r\n    },\r\n    filters: {\r\n        getMusicTitle : function (value) {\r\n            if (!value) return \"\";\r\n            return `(${ value } )`\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#musicList {\r\n    width: 100%;\r\n    .musics-ul {\r\n        padding: 0 10px;\r\n        li {\r\n             \r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            padding: 6px 0; \r\n            border-bottom: 1px solid rgba(0,0,0,.1);\r\n            .music-text-wrap {  \r\n                flex: 1 1 auto; \r\n                overflow: hidden;\r\n                white-space: nowrap;\r\n                text-overflow: ellipsis; \r\n                word-break: normal; \r\n                .music-title {\r\n                    overflow: hidden;\r\n                    white-space: nowrap;\r\n                    text-overflow: ellipsis; \r\n                    word-break: normal; \r\n                    font-size: 17px; \r\n                    color: #333;\r\n                    span {\r\n                        color: #888; \r\n                    }\r\n                    \r\n                }\r\n                .music-author {\r\n                    display: flex; \r\n                    align-items: center;\r\n                    .iconfonts-sq { \r\n                        display: block;\r\n                        width: 13px;\r\n                        height: 8px;\r\n                        background: url(./../assets/images/index_icon_2x.png) no-repeat 0 0;\r\n                        background-size:165.5px 96.5px;\r\n                        margin-right: 4px;\r\n                    }\r\n                    p {\r\n                        overflow: hidden;\r\n                        white-space: nowrap;\r\n                        text-overflow: ellipsis;\r\n                        word-break: normal;   \r\n                        font-size: 12px;\r\n                    }\r\n                }\r\n\r\n            }\r\n            \r\n            .music-playbtn { \r\n                flex: 0 0 auto;\r\n                box-sizing: border-box;\r\n                padding: 10px;\r\n                text-align: center; \r\n                width: 42px;\r\n                .icon-bofang {\r\n                    font-size: 22px;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicListFth.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicListFth.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MusicListFth.vue?vue&type=template&id=54ee1379&scoped=true&\"\nimport script from \"./MusicListFth.vue?vue&type=script&lang=js&\"\nexport * from \"./MusicListFth.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MusicListFth.vue?vue&type=style&index=0&id=54ee1379&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54ee1379\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div id=\"search\">\r\n        <header>\r\n            <div class=\"search-inp-wrap\">\r\n                <span class=\"icon-box iconfonts-search\">\r\n                    <svg class=\"icon\" aria-hidden=\"true\">\r\n                        <use xlink:href=\"#icon-fangdajing\"></use>\r\n                    </svg>\r\n                </span>\r\n\r\n                <input \r\n                type=\"text\" \r\n                class=\"search-inp\" \r\n                placeholder=\"搜索歌曲、歌手、专辑\" \r\n                v-model.trim=\"searchInpContent\" \r\n                @input=\"SearchAdvice\" \r\n                @keyup.enter=\"Search\" \r\n                ref=\"searchInp\"\r\n                >\r\n\r\n                <span \r\n                class=\"icon-box iconfonts-close\" \r\n                @click=\"clearInp\" \r\n                v-show=\"showcloseBtn\">\r\n                    <svg class=\"icon \" aria-hidden=\"true\">\r\n                        <use xlink:href=\"#icon-htmal5icon19\"></use>\r\n                    </svg>\r\n                </span>\r\n            </div> \r\n        </header>\r\n\r\n        <!-- 热搜列表 -->\r\n        <main>\r\n            <div class=\"hot-search\">\r\n                <h4>热门搜索</h4>\r\n                <ul class=\"hot-serch-list\">\r\n                    <template v-for=\"(item,index) in hotsearchArr\"> \r\n                        <li class=\"hot-serch-item\" :key=\"index\" @click=\"toSearch(item.first)\">\r\n                            {{item.first}}\r\n                        </li>\r\n                    </template>\r\n                </ul>\r\n            </div>\r\n        </main>\r\n\r\n        <!-- 搜索历史 -->\r\n        <section>    \r\n            <ul class=\"search-history-list\">\r\n                <template v-for=\"item in historySearchArr\">\r\n                    <li class=\"search-history-item\" :key=\"item.historyId\">\r\n\r\n                        <span class=\"icon-wrap\">\r\n                            <svg class=\"icon iconfonts-history\" aria-hidden=\"true\">\r\n                                <use xlink:href=\"#icon-lishi\"></use>\r\n                            </svg>\r\n                        </span>\r\n                        \r\n                        <p class=\"search-history-text\"  @click=\"toSearch(item.text)\">{{item.text}}</p>\r\n\r\n                        <span class=\"icon-wrap\" @click=\"delHistoryItem(item.historyId)\">\r\n                            <svg class=\"icon iconfonts-history-delete\" aria-hidden=\"true\">\r\n                                <use xlink:href=\"#icon-guanbi\"></use>\r\n                            </svg>\r\n                        </span>\r\n                    </li>\r\n                </template>\r\n            </ul>\r\n        </section> \r\n\r\n        <!-- 搜索建议 -->\r\n        <div class=\"search-advice\" v-show=\"showSearchAdvice\">\r\n            <ul class=\"search-advice-list\">\r\n                <li class=\"search-advice-item\">搜索 “ {{searchInpContent}} ”</li>\r\n                <template v-for=\"(item, index) in searchAdviceData\">\r\n                    <li class=\"search-advice-item\" :key=\"index\" @click=\"toSearch(item.keyword)\">\r\n                        <svg class=\"icon iconfonts-search\" aria-hidden=\"true\">\r\n                            <use xlink:href=\"#icon-fangdajing\"></use>\r\n                        </svg>\r\n                        {{item.keyword}}\r\n                    </li> \r\n                </template>\r\n            </ul>\r\n        </div>\r\n\r\n        <!-- 搜索结果 -->\r\n        <div class=\"search-result\" v-show=\"showSearchResult\">\r\n            <music-listfth :datas=\"searchResultData\"> \r\n            </music-listfth>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport musicListFth from './../../components/MusicListFth.vue';\r\nexport default {\r\n    data: function() {\r\n        return {\r\n            showcloseBtn: false, // 控制显示输入框关闭按钮\r\n            advicetimer:null, // 搜索建议请求数据的计时器\r\n            showSearchAdvice: false,  // 控制显示搜索框\r\n            showSearchResult: false,     // 控制显示搜索结果框\r\n            canSearch: true,          // 允许搜索\r\n            searchInpContent: \"\",   // 搜索框内容\r\n            searchAdviceData: [],   // 搜索建议数据\r\n            searchResultData: [],       // 搜索结果列表\r\n            hotsearchArr: [],  // 热搜列表\r\n            historySearchArr: [] // 历史搜索记录列表 \r\n        }\r\n    },\r\n    methods: { \r\n        // 获取历史搜索记录\r\n        gethistorySearchData() { \r\n            this.historySearchArr = localStorage.getItem(\"historySearchArr\") ? JSON.parse(localStorage.getItem(\"historySearchArr\")) : []\r\n        },\r\n        // 获取热搜列表\r\n        getHotsearchData() {\r\n            this.axios.get(\"/search/hot\").then(res => { \r\n                this.hotsearchArr = res.result.hots\r\n            })\r\n        },\r\n        // 输入搜索内容 渲染搜索建议\r\n        SearchAdvice() { \r\n            this.showSearchAdvice = this.searchInpContent.length ? true : false; // 有内容 就显示搜索框\r\n            this.showcloseBtn = this.searchInpContent.length ? true : false;  // 并且显示清空输入按钮\r\n            clearTimeout(this.advicetimer);    // 清除上一次请求 \r\n            this.advicetimer = setTimeout(() => {\r\n                this.axios.get(`/search/suggest?keywords=${this.searchInpContent}&type=mobile`)\r\n                .then(res => { \r\n                    this.searchAdviceData = res.result.allMatch? res.result.allMatch : []\r\n                }) \r\n            },2500)\r\n        },\r\n        // 搜索\r\n        Search() {\r\n            if (this.canSearch) {\r\n                this.searchResultData = [];  // 搜索结果列表清空\r\n                this.canSearch = false;  // 禁止搜索\r\n                this.showSearchResult = true; // 显示搜索结果框\r\n                this.showSearchAdvice = false; // 隐藏搜索建议框\r\n                this.showcloseBtn = true;   // 显示清空搜索内容按钮\r\n                this.$refs.searchInp.blur();  // 搜索框失去焦点 \r\n                // 发送搜索请求\r\n                this.axios.get(`/search?keywords=${this.searchInpContent}&limit=30`).then(res => {\r\n                    this.searchResultData = res.result.songs\r\n                    this.canSearch = true\r\n                })\r\n\r\n                // 添加搜索历史记录\r\n                this.historySearchArr.push({\r\n                    historyId: Date.now(),\r\n                    text: this.searchInpContent\r\n                })\r\n\r\n                setTimeout(()=> {\r\n                    this.canSearch = true; // 两秒后允许搜索\r\n                },2000)\r\n            }\r\n        },\r\n        // 热门搜索点击按钮 搜索框内容变更成 搜索按钮的内容 然后执行搜索\r\n        toSearch(content) {\r\n            this.searchInpContent = content;        // 搜索框内容变更\r\n            this.Search();   // 执行搜索 里面也添加了历史搜索记录\r\n        },\r\n        // 清空输入框内容\r\n        clearInp() {\r\n            this.searchInpContent = \"\"; // 清空输入框内容\r\n            this.showSearchAdvice = false;  // 隐藏搜索框\r\n            this.searchResultData = []; // 清空搜索结果列表\r\n            this.showSearchResult = false;  // 英寸搜索结果框\r\n            this.showcloseBtn = false; // 隐藏清空按钮\r\n        },\r\n        // 删除当个历史记录\r\n        delHistoryItem(id) {\r\n            this.historySearchArr = this.historySearchArr.filter(item => {\r\n                return item.historyId != id\r\n            })\r\n        }\r\n\r\n    },\r\n    created() { \r\n        this.getHotsearchData();     // 获取热搜列表 \r\n        this.gethistorySearchData();    // 获取搜索历史列表\r\n    },\r\n    watch: {\r\n        // 储存历史搜索记录\r\n        historySearchArr : function() {\r\n            localStorage.setItem(\"historySearchArr\",JSON.stringify(this.historySearchArr))\r\n        }\r\n    },\r\n    components: {\r\n        \"music-listfth\":musicListFth\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#search { \r\n    header {\r\n        position: relative;\r\n        z-index: 3;\r\n        margin-top: -20px;\r\n        padding: 15px 10px;\r\n        background-color: #fff;\r\n        border-bottom: 1px solid rgba(197, 193, 193, 0.1);\r\n        .search-inp-wrap {\r\n            position: relative; \r\n            width: 100%;\r\n            height: 30px;\r\n            border-radius: 30px;\r\n            padding: 0 30px;\r\n            background-color: #ebecec;\r\n            color: #333;\r\n            font-size: 14px; \r\n            .icon-box {\r\n                display: block;\r\n                position: absolute;\r\n                font-size: 14px;\r\n                color: rgba(0,0,0,0.4);\r\n                top: 50%; \r\n                text-align: center;\r\n                transform: translateY(-50%); \r\n            }\r\n            .iconfonts-search { \r\n                left: 8px; \r\n            }\r\n            .iconfonts-close {\r\n                width: 20px; \r\n                height: 20px;\r\n                right: 8px;\r\n            }\r\n            .search-inp {\r\n                width: 100%;\r\n                height: 30px;\r\n                line-height: 18px;\r\n                background-color: rgba(0,0,0,0); \r\n            }\r\n        }\r\n       \r\n    }\r\n    main {\r\n        padding: 15px 10px 0;\r\n        .hot-search {\r\n            h4 {\r\n                font-size: 12px;\r\n                line-height: 12px;\r\n                color: #666; \r\n                font-weight: 500;\r\n            }\r\n            .hot-serch-list {\r\n                margin: 10px 0 7px;\r\n                .hot-serch-item {\r\n                    display: inline-block;\r\n                    height: 32px;\r\n                    line-height: 32px;\r\n                    font-size: 14px;\r\n                    color: #333;\r\n                    padding: 0 14px;\r\n                    border: 1px solid #d3d4da;\r\n                    margin: 0 8px 8px 0;\r\n                    border-radius: 32px;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    section {\r\n        .search-history-list {\r\n            .search-history-item {\r\n                display: flex;\r\n                justify-content: space-between;\r\n                height: 45px;\r\n                line-height: 45px; \r\n                text-align: center;\r\n                border-bottom: 1px solid rgba(197, 193, 193, 0.1);\r\n                .icon-wrap {\r\n                    flex: none;\r\n                    width: 35px;\r\n                    font-size: 18px;\r\n                    overflow: hidden;\r\n                    text-overflow: ellipsis;\r\n                    white-space: nowrap;\r\n                }\r\n                .search-history-text {\r\n                    flex: 1 1 auto;\r\n                    text-align: left;\r\n                    font-size: 14px;\r\n                    color: #333;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    .search-advice {\r\n        box-sizing: border-box;\r\n        position: fixed;\r\n        z-index: 1;\r\n        left: 0;\r\n        top: 0;\r\n        width: 100%;\r\n        height: 100vh;\r\n        overflow: hidden; \r\n        padding-top: 185px;\r\n        background-color: #fff;\r\n        .search-advice-list {\r\n            padding: 0 10px;\r\n            .search-advice-item { \r\n                user-select: none;\r\n                font-size: 15px;\r\n                color: #333;\r\n                line-height: 45px;\r\n                height: 45px;\r\n                overflow: hidden;\r\n                text-overflow: ellipsis;\r\n                white-space: nowrap; \r\n                border-bottom: 1px solid rgba(197, 193, 193, 0.1);\r\n                &:first-of-type {\r\n                    line-height: 50px;\r\n                    height: 50px;\r\n                    color: #507daf;\r\n                }\r\n                .icon {\r\n                    font-size: 16px;\r\n                    margin-right: 5px;\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n    .search-result {\r\n        box-sizing: border-box;\r\n        position: absolute;\r\n        z-index: 2;\r\n        left: 0;\r\n        top: 0;\r\n        width: 100%; \r\n        padding-top: 185px;\r\n        min-height: 100vh;\r\n        background-color: #fff;\r\n    }\r\n\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=10873d10&scoped=true&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=10873d10&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10873d10\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar slice = [].slice;\nvar MSIE = /MSIE .\\./.test(userAgent); // <- dirty ie9- check\n\nvar wrap = function (scheduler) {\n  return function (handler, timeout /* , ...arguments */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : undefined;\n    return scheduler(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func -- spec requirement\n      (typeof handler == 'function' ? handler : Function(handler)).apply(this, args);\n    } : handler, timeout);\n  };\n};\n\n// ie9- setTimeout & setInterval additional parameters fix\n// https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timers\n$({ global: true, bind: true, forced: MSIE }, {\n  // `setTimeout` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout\n  setTimeout: wrap(global.setTimeout),\n  // `setInterval` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-setinterval\n  setInterval: wrap(global.setInterval)\n});\n","var $ = require('../internals/export');\n\n// `Date.now` method\n// https://tc39.es/ecma262/#sec-date.now\n$({ target: 'Date', stat: true }, {\n  now: function now() {\n    return new Date().getTime();\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicListFth.vue?vue&type=style&index=0&id=54ee1379&lang=scss&scoped=true&\""],"sourceRoot":""}